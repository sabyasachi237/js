<!DOCTYPE html>
<html>
  <head>
    <title>Patient Registration</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: white;
        margin: 0;
        padding: 0;
        overflow-x: hidden;
      }

      h3 {
        text-align: center;
        color: white;
        background-color: #007bff;
        padding: 20px 0;
        margin: 20px;
        margin-left: -20px;
        margin-top: -70px;
        width: 100%;
      }

      .container {
        background-color: white;
        padding: 20px;
        width: 100%;
        margin: 20px auto;
      }

      h2 {
        color: #333;
        margin-top: 0;
      }

      form {
        margin-top: 20px;
      }

      label {
        display: block;
        margin-bottom: 5px;
        color: #333;
      }

      input[type="text"],
      input[type="date"],
      input[type="file"] {
        width: 100%;
        padding: 10px;
        margin-bottom: 15px;
        border: 1px solid #ccc;
        border-radius: 4px;
      }

      input[type="submit"],
      button {
        background-color: #007bff;
        color: white;
        border: none;
        padding: 10px 20px;
        cursor: pointer;
      }

      input[type="submit"]:hover,
      button:hover {
        background-color: #0056b3;
      }

      .signature-pad {
        text-align: center;
      }

      #signature-canvas {
        border: 1px solid #ccc;
        border-radius: 4px;
      }

      #clear-button {
        background-color: #f44336;
        color: white;
        border: none;
        padding: 5px 10px;
        margin-top: 10px;
        border-radius: 4px;
        cursor: pointer;
      }

      #clear-button:hover {
        background-color: #d32f2f;
      }

      p {
        color: white;
      }

      .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 20px 20px 0;
        /* Adjust padding as needed */
        background-color: #007bff;
        margin: 0;
      }

      .header h1 {
        margin: 0;
        color: white;
      }

      .container {
        background-color: white;
        padding: 20px;
        width: 100%;
        margin: 20px auto;
      }

      .container form {
        margin-top: 20px;
      }

      #prev-button {
        width: 40px;
        /* Set the width and height of the button */
        height: 40px;
        background-color: #ccc;
        color: white;
        border: none;
        padding: 0;
        /* Remove padding to make room for the background image */
        cursor: pointer;
        position: absolute;
        left: 20px;
        top: 20px;
        background-image: url("arrow-icon.png");
        /* Replace 'arrow-icon.png' with the path to your arrow icon image */
        background-size: cover;
        /* Scale the background image to cover the button */
        background-repeat: no-repeat;
        /* Prevent the background image from repeating */
        background-position: center;
        /* Center the background image within the button */
      }

      #prev-button:hover {
        background-color: #999;
      }
    </style>
    <link rel="stylesheet" href="default.css" />
    <link rel="stylesheet" href="default.date.css" />
  </head>

  <body>
    <div class="container">
      <form action="#" method="post" id="registration-form">
        <!-- Step 1 -->
        <div class="step" id="step1">
          <h3>Step 1 - Personal Information</h3>
          <label for="first_name">First Name:</label>
          <input type="text" name="first_name" required />
          <br /><br />
          <label for="middle_name">Middle Name:</label>
          <input type="text" name="middle_name" required />
          <br /><br />
          <label for="last_name">Last Name:</label>
          <input type="text" name="last_name" required />
          <br /><br />
          <label for="dob">Date of Birth:</label>
          <input type="date" name="dob" class="datepicker" required />
          <br /><br />
          <button type="button" class="next-step" style="width: 100%">
            Next
          </button>
        </div>

        <!-- Step 2 -->
        <div class="step" id="step2" style="display: none;">
          <h3>Step 2 - Address Information</h3>
          <label for="address_line1">Address Line 1:</label>
          <input type="text" name="address_line1" required />
          <br /><br />
          <label for="address_line2">Address Line 2:</label>
          <input type="text" name="address_line2" />
          <br /><br />
          <label for="city">City:</label>
          <input type="text" name="city" required />
          <br /><br />
          <label for="state">State:</label>
          <input type="text" name="state" required />
          <br /><br />
          <label for="zip">Zip:</label>
          <input type="text" name="zip" required />
          <br /><br />
          <label for="cell_phone">Cell Phone:</label>
          <input type="tel" name="cell_phone" required />
          <br /><br />
          <label for="email">Email:</label>
          <input type="email" name="email" required />
          <br /><br />
          <button type="button" class="prev-step">Previous</button>
          <button type="button" class="next-step" style="width: 100%">
            Next
          </button>
        </div>

        <!-- Step 3 -->
        <div class="step" id="step3" style="display: none;">
          <h3>Step 3 - Ethnicity and Race</h3>
          <label for="ethnicity">Ethnicity:</label>
          <select name="ethnicity" required>
            <option value="">Select Ethnicity</option>
            <option value="hispanic">Hispanic</option>
            <option value="non_hispanic">Non-Hispanic</option>
          </select>
          <br /><br />
          <label for="race">Race:</label>
          <select name="race" required>
            <option value="">Select Race</option>
            <option value="white">White</option>
            <option value="black">Black</option>
            <option value="asian">Asian</option>
            <option value="native_american">Native American</option>
            <option value="other">Other</option>
          </select>
          <br /><br />
          <button type="button" class="prev-step">Previous</button>
          <button type="button" class="next-step" style="width: 100%">
            Next
          </button>
        </div>

        <!-- Step 4 -->
        <div class="step" id="step4" style="display: none;">
          <h3>Step 2.4</h3>
          <label for="id_front_photo">ID Front Photo:</label>
          <input type="file" name="id_front_photo" accept="image/*" required />
          <br /><br />
          <label for="id_back_photo">ID Back Photo:</label>
          <input type="file" name="id_back_photo" accept="image/*" required />
          <br /><br />
          <button type="button" class="prev-step">Previous</button>
          <button type="button" class="next-step">Continue</button>
        </div>
        
      <!-- Step 5 (New Step for Insurance Photos) -->
      <div class="step" id="step5" style="display: none;">
        <h3>Step 2.5</h3>
        <label for="insurance_front_photo">Insurance Front Photo:</label>
        <input type="file" name="insurance_front_photo" accept="image/*" required />
        <br /><br />
        <label for="insurance_back_photo">Insurance Back Photo:</label>
        <input type="file" name="insurance_back_photo" accept="image/*" required />
        <br /><br />
        <button type="button" class="prev-step">Previous</button>
        <button type="button" class="next-step">Continue</button>
      </div>
    </form>
  </div>

        <!-- Step 5 -->
 <!-- Step 5 -->
<div class="step" id="step5" style="display: none;">
  <h3>Step 5 - Agree to Terms & Conditions</h3>
  <div style="text-align: left; margin-top: 20px">
    <p>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam
      nec mauris urna. Proin aliquet nulla eu ligula feugiat, ac
      bibendum turpis venenatis. Sed ac ligula quis arcu suscipit
      auctor.
    </p>
  </div>
  <button onclick="openSignaturePopup()" class="next-step">
    Sign
  </button>

  <!-- Hidden signature popup -->
  <div id="signature-popup" style="display: none;">
    <div
      style="
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: white;
        padding: 20px;
        width: 80%;
        max-width: 400px;
      "
    >
      <h3 style="text-align: center; color: #333">Sign Here</h3>
      <canvas id="signature-canvas" width="400" height="200"></canvas>
      <div
        style="
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-top: 10px;
        "
      >
        <button id="cancel-button" onclick="closeSignaturePopup()">
          Cancel
        </button>
        <p>Please sign above.</p>
        <button id="done-button" class="next-step">Done</button>
      </div>
    </div>
  </div>

  <form action="registration.php" method="post">
    <input type="hidden" id="signature-data" name="signature-data" />
    <button type="button" class="prev-step">Previous</button>
    <input type="submit" value="Next" style="display: none" />
  </form>

  <script src="https://cdn.jsdelivr.net/npm/signature_pad@2.3.2/dist/signature_pad.min.js"></script>
  <script>
    var signaturePad = new SignaturePad(
      document.getElementById("signature-canvas")
    );

    function openSignaturePopup() {
      document.getElementById("signature-popup").style.display = "block";
    }

    function closeSignaturePopup() {
      document.getElementById("signature-popup").style.display = "none";
    }

    // Handle Clear button click
    document.getElementById("cancel-button").addEventListener("click", function () {
      signaturePad.clear();
    });

    // Handle form submission
    document.getElementById("done-button").addEventListener("click", function () {
      // Get the signature data as a base64-encoded PNG image
      var signatureData = signaturePad.toDataURL();

      // Set the value of the hidden input to the signature data
      document.getElementById("signature-data").value = signatureData;

      // Submit the form
      document.querySelector("form").submit();
    });
  </script>
</div>

        <!-- Step 6 -->
        <div class="step" id="step6" style="display: none;">
          <h3>Step 6 - Registration Complete</h3>
          <p>Thank You for registering!</p>
          <button type="button" class="prev-step">Previous</button>
        </div>

        <!-- Step Counter -->
        <div style="text-align: center;">
          <span id="step-counter">Step 1 of 6</span>
        </div>
      </form>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="picker.js"></script>
    <script src="picker.date.js"></script>
    <script>
      var currentStep = 1;
      var totalSteps = 6;

      $(document).ready(function () {
        $(".next-step").click(function () {
          if (currentStep < totalSteps) {
            $("#step" + currentStep).hide();
            currentStep++;
            $("#step" + currentStep).show();
            updateStepCounter();
          }
        });

        $(".prev-step").click(function () {
          if (currentStep > 1) {
            $("#step" + currentStep).hide();
            currentStep--;
            $("#step" + currentStep).show();
            updateStepCounter();
          }
        });

        function updateStepCounter() {
          $("#step-counter").text("Step " + currentStep + " of " + totalSteps);
        }
      });
      $(".datepicker").pickadate({
        formatSubmit: "yyyy/mm/dd",
        hiddenName: true,
      });
    </script>
  </body>
</html>
